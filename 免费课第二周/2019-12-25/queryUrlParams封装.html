<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
    <script>
    let url='https://www.baidu.com?name=erYa&age=18&wd=千与千寻&sex=gril#index';

    function queryUrlParams(url){
        let paramsIndex=url.indexOf('?');
        //let paramsStr=url.substring(paramsIndex+1);
        //console.log(paramsStr);   // 'name=erYa&age=18&wd=千与千寻&sex=gril#index'
        
        let strIndex=url.indexOf('#');
        let hash=url.substring(strIndex+1);
        //console.log(hash);

        let paramsStr=url.substring(paramsIndex+1,strIndex);
        //console.log(paramsStr);

        let paramsAry=paramsStr.split('&');
       // console.log(paramsAry);   // ["name=erYa", "age=18", "wd=千与千寻", "sex=gril#index"]

        let obj={};
        obj.hash=hash;

        for(var i=0;i<paramsAry.length;i++){

            var cur=paramsAry[i];
            var itemAry=cur.split('=');
            console.log(itemAry);  //["name","erYa"] ["age","18"] ["wd","千与千寻"] ["sex","gril#index"]

            obj[itemAry[0]]=itemAry[1];  // obj['name'] = 'erYa'
        }

        return obj;
    }
    console.log(queryUrlParams(url));
    //{hash: "index", name: "erYa", age: "18", wd: "千与千寻", sex: "gril"}
    
    </script>
</body>
</html>