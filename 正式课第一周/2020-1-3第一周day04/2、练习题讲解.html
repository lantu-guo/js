<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>

<body>
    <script>
        /* 
        i = 5
        fn = f
        f
         */
        // var i = 5;
        // function fn(i) {
        //     /* 
        //     i = 3 4 5
        //      */
        //     return function (n) { 
        //         console.log(n + (++i));
        //     }
        // }
        // var f = fn(3); // aaafff000
        // f(4); // 8
        // fn(3)(6); // 10
        // f(2); // 7
        // console.log(i); // 5


        // function fn(i) {
        //     /* 
        //     i = 3 4
        //      */
        //     return function (n) {
        //         /* 
        //         n = 6

        //          */
        //         console.log(n + (++i)); // 6 +  4
        //     }
        // }

        //----------------------------------------------

        /* 
        num = 1
        obj = {}
        f = aaafff000
        */
        // var num = 1; // 2 4
        // var obj = {
        //     num: 2, // 4
        //     fn: (function () {
        //         /* 
        //         num = NaN  1 3 4 6 7
        //          */
        //         this.num *= 2;
        //         num += 3;
        //         var num = 1;
        //         return function () {
        //             num += 2;
        //             this.num += 2
        //             console.log(++num);
        //         }
        //     })()
        // };
        // var f = obj.fn;
        // f(); // 4
        // obj.fn(); // 7
        // console.log(window.num, obj.num); // 4  4

        // --------------------------------------------------------------
        /* 
        num = 10,20,30
        obj = {}
        fn = f
         */
        var num = 10;
        var obj = {
            num: 15 //30
        };

        obj.fn = (function (num) {
            /* 
            num = 15  30 29 28
            w.num=10+10=20

             */
            this.num += 10;
            num *= 2;
            return function (n) {
                //n=10  
                //n=15
                this.num += n;  //w.num=20+10=30   //obj.num=15+15=30
                console.log(n + (--num))  //10+29==>39     ==>15+28=43
            }
        })(obj.num);

        var fn = obj.fn;
        fn(10); // 39
        obj.fn(15); // 43
        console.log(window.num, obj.num); // 30 30

        //---------------------------------------------------------------------

        /* 
           g1 = f
           obj4 = {
               g1:g1,
               gg:f,
               g:'gg'
           }
           window.g = 'gg'
        */
        // function g1() {
        //     this.g = "gg"
        // };
        // var obj4 = {
        //     g1: g1,
        //     gg: function () {
        //         g1();
        //     }
        // };
        // obj4.g1();
        // obj4.gg();
        // console.log(obj4); // obj4
        // console.log("g" in window); // true
        // ---------------------------------------------------------

        /* 
        number = 2 4 8
        obj = {}
        fn1 = aaafff000
        */
        // var number = 2;
        // var obj = {
        //     number: 4, // 8
        //     fn1: (function () {
        //         /* 
        //         number = NaN 3 9 27
        //          */
        //         this.number *= 2;
        //         number = number * 2;
        //         var number = 3;
        //         return function () {
        //             this.number *= 2;
        //             number *= 3;
        //             alert(number);
        //         }
        //     })()
        // };
        // var fn1 = obj.fn1;
        // alert(number); // 4
        // fn1(); // 9
        // obj.fn1(); // 27
        // alert(window.number); // 8
        // alert(obj.number); // 8
        // ----------------------------------------------------------

        /* 
        name = 'erYa'
        age = 9 'xiaoHua' 'xiaoHua' 

        */
        // var name = 'erYa';
        // var age = 9; 
        // age = (function (name, age) {
        //     /* 
        //     name = 'erYa' 'xiaoHua'
        //     age = 9 9
        //      */
        //     name = 'xiaoHua';
        //     age = age || this.age;
        //     this.age = arguments[0];
        //     console.log(name, age) // 'xiaoHua'  9
        //     return this.age;
        // })(name, age);
        // console.log(name, age); // 'erYa'  'xioaHua'

        //---------------------------------------------------
        /* 
        f5 = f
        window.f = false
         */
        // function f5() {
        //     /* 
        //     ff = f
        //      */
        //     f = ff();
        //     return f;

        //     function ff() {
        //         return "f" in window;
        //     };
        // }
        // console.log(f5());

        //-------------------------------------------

        /* 
        obj = {}
        window.num = NaN
        */
        // var obj = {
        //     num: 0,
        //     fn: function () {
        //         /* 
        //         num = 6
        //          */
        //         var num = 6;
        //         (function (num) {
        //             /* 
        //             num = 0 1
        //              */
        //             this.num = ++this.num;
        //             num++;
        //             console.log(num) // 1
        //         })(this.num)
        //         // console.log(this)
        //     }
        // }
        // obj.fn();
        // console.log(window.num, obj.num);

        // -------------------------------------------------

        /* 
        num = 100 1 2 1 2
        obj = {}
        f
        */
        // var num = 100;
        // var obj = {
        //     num: 2,
        //     fn: function () {
        //         /* 
                
        //          */
        //         num = 1;
        //         console.log(this); // window
        //         (function (num) {
        //             /* 
        //             num = 1
        //              */
        //             console.log(num + this.num++); // 1+ 1
        //         })(this.num);
        //     }
        // }
        // obj.fn(); // 3
        // var f = obj.fn;
        // f(); // 2
        // console.log(num) // 2
    </script>
</body>

</html>